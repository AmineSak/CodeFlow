"use client";

import { signIn } from "next-auth/react";
import { useRouter } from "next/navigation";
import { useSession } from "next-auth/react";
import { useEffect } from "react";

const SignInOptions = () => {
  const { data: session, status } = useSession();
  const router = useRouter();

  useEffect(() => {
    if (status === "authenticated") {
      // Redirect to the protected route after logging in
      router.push("/feed");
    }
  }, [status, router]);

  return (
    <section className="mt-9">
      <p className="font-montserrat font-extrabold text-white text-3xl flex-center ">
        {" "}
        LOGIN WITH
      </p>
      <div className="flex-center gap-[84px] mt-11">
        <button
          type="button"
          className="px-1 py-1 bg-[#121212] rounded-[20px] "
          onClick={() => signIn("google")}
        >
          <svg
            width="53"
            height="54"
            viewBox="0 0 53 54"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="py-2 px-2"
          >
            <path
              d="M48.1538 22.5934H46.375V22.5H26.5V31.5H38.9804C37.1596 36.7391 32.267 40.5 26.5 40.5C19.1826 40.5 13.25 34.4554 13.25 27C13.25 19.5446 19.1826 13.5 26.5 13.5C29.8776 13.5 32.9505 14.7982 35.2902 16.9189L41.5365 10.5547C37.5924 6.80962 32.3167 4.5 26.5 4.5C14.3044 4.5 4.41663 14.5744 4.41663 27C4.41663 39.4256 14.3044 49.5 26.5 49.5C38.6955 49.5 48.5833 39.4256 48.5833 27C48.5833 25.4914 48.4309 24.0187 48.1538 22.5934Z"
              fill="#FFC107"
            />
            <path
              d="M6.96289 16.5274L14.2184 21.9487C16.1816 16.9965 20.9361 13.5 26.5 13.5C29.8777 13.5 32.9506 14.7982 35.2903 16.9189L41.5366 10.5547C37.5925 6.80962 32.3168 4.5 26.5 4.5C18.0178 4.5 10.6618 9.37912 6.96289 16.5274Z"
              fill="#FF3D00"
            />
            <path
              d="M26.5 49.5C32.2041 49.5 37.3871 47.2759 41.3058 43.659L34.471 37.7662C32.1793 39.5419 29.3791 40.5023 26.5 40.5C20.7561 40.5 15.879 36.7684 14.0417 31.5607L6.84033 37.2139C10.4951 44.5005 17.9173 49.5 26.5 49.5Z"
              fill="#4CAF50"
            />
            <path
              d="M48.1538 22.5934H46.375V22.5H26.5V31.5H38.9804C38.1094 33.9935 36.5406 36.1723 34.4677 37.7674L34.471 37.7651L41.3058 43.6579C40.8221 44.1056 48.5833 38.25 48.5833 27C48.5833 25.4914 48.431 24.0188 48.1538 22.5934Z"
              fill="#1976D2"
            />
          </svg>
        </button>

        <p className="font-montserrat font-semibold text-white text-3xl ">or</p>

        <button
          type="button"
          className="px-1 py-1 bg-[#121212] rounded-[20px] "
          onClick={() => signIn("github")}
        >
          <svg
            width="53"
            height="54"
            viewBox="0 0 77 68"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="py-2 px-2"
          >
            <path
              d="M38.5 0C17.2288 0 0 15.4387 0 34.5C0 49.7663 11.0206 62.6606 26.3244 67.2319C28.2494 67.5338 28.9713 66.4987 28.9713 65.5931C28.9713 64.7738 28.9231 62.0569 28.9231 59.1675C19.25 60.7631 16.7475 57.0544 15.9775 55.1138C15.5444 54.1219 13.6675 51.06 12.0312 50.2406C10.6838 49.5938 8.75875 47.9981 11.9831 47.955C15.015 47.9119 17.1806 50.4562 17.9025 51.4912C21.3675 56.7094 26.9019 55.2431 29.1156 54.3375C29.4525 52.095 30.4631 50.5856 31.57 49.7231C23.0037 48.8606 14.0525 45.885 14.0525 32.6888C14.0525 28.9369 15.5444 25.8319 17.9988 23.4169C17.6138 22.5544 16.2663 19.0181 18.3837 14.2744C18.3837 14.2744 21.6081 13.3688 28.9713 17.8106C32.0513 17.0344 35.3238 16.6462 38.5963 16.6462C41.8688 16.6462 45.1413 17.0344 48.2213 17.8106C55.5844 13.3256 58.8088 14.2744 58.8088 14.2744C60.9263 19.0181 59.5788 22.5544 59.1938 23.4169C61.6481 25.8319 63.14 28.8937 63.14 32.6888C63.14 45.9281 54.1406 48.8606 45.5744 49.7231C46.97 50.8013 48.1731 52.8713 48.1731 56.1056C48.1731 60.72 48.125 64.4287 48.125 65.5931C48.125 66.4987 48.8469 67.5769 50.7719 67.2319C58.416 64.9215 65.0586 60.5202 69.7639 54.6481C74.4692 48.776 77.0001 41.7291 77 34.5C77 15.4387 59.7713 0 38.5 0Z"
              fill="#F8F8F8"
            />
          </svg>
        </button>
      </div>
    </section>
  );
};

export default SignInOptions;
